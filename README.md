# üèîÔ∏è Pereval Rest API



–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ **Pereval Rest API** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—É—é —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –¢—É—Ä–∏–∑–º–∞ –†–æ—Å—Å–∏–∏.

üì± –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø–æ–º–æ—á—å —Ç—É—Ä–∏—Å—Ç–∞–º –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–µ—Ä–µ–≤–∞–ª–∞—Ö —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏.

---

## üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

‚õ∫ –¢—É—Ä–∏—Å—Ç—ã –≤ –≥–æ—Ä–∞—Ö –≤–Ω–æ—Å—è—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–µ—Ä–µ–≤–∞–ª–µ –≤ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏, –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∏—Ö –≤ –§–°–¢–†.  
üßë‚Äç –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –≤–Ω–æ—Å—è—Ç –∏—Ö –≤ –±–∞–∑—É.  
üì≤ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å—Ç–∞—Ç—É—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã.

---

## üìù –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è

- üë§ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—É—Ä–∏—Å—Ç–µ**:
  - –§–∞–º–∏–ª–∏—è, –∏–º—è, –æ—Ç—á–µ—Å—Ç–≤–æ
  - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
  - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- üèîÔ∏è –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞
- üåç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞) –∏ –≤—ã—Å–æ—Ç–∞
- üå¶Ô∏è –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ —Å–µ–∑–æ–Ω–∞–º (–∑–∏–º–∞, –ª–µ—Ç–æ, –æ—Å–µ–Ω—å, –≤–µ—Å–Ω–∞)
- üñºÔ∏è –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏

---

## üì° –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞

```http
POST /pereval/
```

üì§ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```json
{
  "beauty_title": "–ø–µ—Ä. ",
  "title": "–ü—Ö–∏—è",
  "other_titles": "–¢—Ä–∏–µ–≤",
  "connect": "",
  "add_time": "2021-09-22 13:18:13",
  "user": {
    "email": "qwerty@mail.ru",
    "lastname": "–ü—É–ø–∫–∏–Ω",
    "name": "–í–∞—Å–∏–ª–∏–π",
    "surname": "–ò–≤–∞–Ω–æ–≤–∏—á",
    "phone": "+7(555) 555 55 55"
  },
  "coords": {
    "latitude": 45.3842,
    "longitude": 7.1525,
    "height": 1200
  },
  "level": {
    "winter": "",
    "summer": "1–ê",
    "autumn": "1–ê",
    "spring": ""
  },
  "images": [
    {"data": "<–∫–∞—Ä—Ç–∏–Ω–∫–∞1>", "title": "–°–µ–¥–ª–æ–≤–∏–Ω–∞"},
    {"data": "<–∫–∞—Ä—Ç–∏–Ω–∫–∞2>", "title": "–ü–æ–¥—ä—ë–º"}
  ]
}
```

üì• –û—Ç–≤–µ—Ç:

```json
{ "status": 200, "message": null, "id": 42 }
```

---

### üìÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–∞–ª–∞

```http
GET /pereval/<id>/
```

–ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –ø–æ `id`.

---

### ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è status="new")

```http
PATCH /pereval/<id>/
```

–†–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø–æ–ª—è, –∫—Ä–æ–º–µ —Å—Ç–∞—Ç—É—Å–∞, –¥–∞—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–§.–ò.–û., email, –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞).  
–û—Ç–≤–µ—Ç:
```json
{ "state": 1, "message": "–£—Å–ø–µ—à–Ω–æ" }
```
---

### üîé –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ

```http
GET /pereval/?user_id__email=<email>
```

üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `django-filter`.
---

## üß≠ –°—Ç–∞—Ç—É—Å—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏

- `'new'` ‚Äî –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å  
- `'pending'` ‚Äî –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ  
- `'accepted'` ‚Äî –ø—Ä–∏–Ω—è—Ç–∞  
- `'rejected'` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞
---


### üìã DRF –º–∞—Ä—à—Ä—É—Ç—ã:

- **API Root:** [/api/](https://your_nickname.pythonanywhere.com/api/) ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–π–Ω—Ç–æ–≤  
- **Pereval API:** [/api/preval/](https://your_nickname.pythonanywhere.com/api/preval/) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –ø–µ—Ä–µ–≤–∞–ª–æ–≤
---



### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
python manage.py runserver
```
